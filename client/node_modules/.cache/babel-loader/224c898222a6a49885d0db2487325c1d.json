{"ast":null,"code":"import { takeEvery, call, put } from 'redux-saga/effects';\nimport { firestore, transformCollectionArray } from '../../firebase/firebase-utils';\nimport shopActionTypes from './shop-action-types';\n\nfunction* fetchCollectionAsync() {\n  yield console.log('I am fired');\n  const collectionRef = firestore.collection('collections');\n  collectionRef.get().then(snapShotObj => {\n    const collectionData = transformCollectionArray(snapShotObj);\n    dispatch(fetchCollectionDataSuccess(collectionData));\n  }).catch(error => {\n    dispatch(fetchCollectionDataFailure(error.message));\n  });\n}\n\nexport function* fetchCollectionStart() {\n  yield takeEvery(shopActionTypes.FETCH_COLLECTION_DATA_START, fetchCollectionAsync);\n}","map":{"version":3,"sources":["/Users/anandsimmy/react-projects/crown-clothing/src/redux/shop/shop-sagas.js"],"names":["takeEvery","call","put","firestore","transformCollectionArray","shopActionTypes","fetchCollectionAsync","console","log","collectionRef","collection","get","then","snapShotObj","collectionData","dispatch","fetchCollectionDataSuccess","catch","error","fetchCollectionDataFailure","message","fetchCollectionStart","FETCH_COLLECTION_DATA_START"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,QAAqC,oBAArC;AAEA,SAASC,SAAT,EAAoBC,wBAApB,QAAoD,+BAApD;AACA,OAAOC,eAAP,MAA4B,qBAA5B;;AAEA,UAAUC,oBAAV,GAAgC;AAC5B,QAAMC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAAN;AACA,QAAMC,aAAa,GAAEN,SAAS,CAACO,UAAV,CAAqB,aAArB,CAArB;AACID,EAAAA,aAAa,CAACE,GAAd,GACCC,IADD,CACMC,WAAW,IAAI;AACjB,UAAMC,cAAc,GAAEV,wBAAwB,CAACS,WAAD,CAA9C;AACAE,IAAAA,QAAQ,CAACC,0BAA0B,CAACF,cAAD,CAA3B,CAAR;AACH,GAJD,EAKCG,KALD,CAKOC,KAAK,IAAI;AACZH,IAAAA,QAAQ,CAACI,0BAA0B,CAACD,KAAK,CAACE,OAAP,CAA3B,CAAR;AACH,GAPD;AAQP;;AAED,OAAO,UAAUC,oBAAV,GAAiC;AACpC,QAAMrB,SAAS,CACXK,eAAe,CAACiB,2BADL,EAEXhB,oBAFW,CAAf;AAIH","sourcesContent":["import { takeEvery, call, put } from 'redux-saga/effects'\n\nimport { firestore, transformCollectionArray } from '../../firebase/firebase-utils'\nimport shopActionTypes from './shop-action-types'\n\nfunction* fetchCollectionAsync(){\n    yield console.log('I am fired')\n    const collectionRef= firestore.collection('collections')\n        collectionRef.get()\n        .then(snapShotObj => {\n            const collectionData= transformCollectionArray(snapShotObj)\n            dispatch(fetchCollectionDataSuccess(collectionData))\n        })\n        .catch(error => {\n            dispatch(fetchCollectionDataFailure(error.message))\n        })\n}\n\nexport function* fetchCollectionStart() {\n    yield takeEvery(\n        shopActionTypes.FETCH_COLLECTION_DATA_START,\n        fetchCollectionAsync\n    )\n}\n"]},"metadata":{},"sourceType":"module"}